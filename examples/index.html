<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>face dazzler - for web</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css">
  <link rel="stylesheet" type="text/css" href="assets/styles.css">

<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js" type="text/javascript"></script>
  <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js" type="text/javascript"></script>
  
  <script src="./js/app.js" type="text/javascript"></script>
  
  <!-- TRACKING.JS -->
  <script src="http://trackingjs.com/bower/dat-gui/build/dat.gui.min.js"></script>
  <script src="tracking-min.js"></script>
  <script src="face-min.js"></script>
  <script src="eye-min.js"></script>
  <script src="mouth-min.js"></script>
  <script src="assets/stats.min.js"></script>

  <script>
  //   $(function() {
  //   $('a[href*=#]:not([href=#])').click(function() {
  //     if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
  //       var target = $(this.hash);
  //       target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
  //       if (target.length) {
  //         $('html,body').animate({
  //           scrollTop: target.offset().top
  //         }, 1000);
  //         return false;
  //       }
  //     }
  //   });
  // });
  </script>

  <script>
  var allowDrop = function(e){
      e.preventDefault();
  }
  var drag = function(e){
      //store the position of the mouse relativly to the image position
      e.dataTransfer.setData("mouse_position_x",e.clientX - e.target.offsetLeft );
      e.dataTransfer.setData("mouse_position_y",e.clientY - e.target.offsetTop  );

      e.dataTransfer.setData("image_id",e.target.id);
  }
  var drop = function(e){
      e.preventDefault();
      var image = document.getElementById( e.dataTransfer.getData("image_id") );

      var mouse_position_x = e.dataTransfer.getData("mouse_position_x");
      var mouse_position_y = e.dataTransfer.getData("mouse_position_y");

      var droppableCanvas = document.getElementById('droppableCanvas');
      var ctx = droppableCanvas.getContext('2d');

      // the image is drawn on the canvas at the position of the mouse when we lifted the mouse button
      ctx.drawImage( image , e.clientX - droppableCanvas.offsetLeft - mouse_position_x , e.clientY - droppableCanvas.offsetTop - mouse_position_y );
  }
  var convertCanvasToImage = function(){
      var droppableCanvas = document.getElementById('droppableCanvas');

      var image_src = droppableCanvas.toDataURL("image/png");
      window.open(image_src);
  }
  </script>   
</head>
<body>

<nav>
  <h3>face dazzler <span style="color:#ccc;"><em>for web</em></span></h3>
</nav>



<section id="landing-container">
  <div class="row">
    <div class="small-12 medium-5 large-5 columns">
      <h2 style="color:#ccc;">thwart facial detection with a couple clicks. </h2>
      <p>The Face Dazzler web application allows you a degree of protection against facial recognition technology online. <p>
      <p>Facial recognition technology is pervasive, from street-level security cameras to friends tagging us on Facebook. It's also invasive â€“ when our face is recognized, so is our identity. </p>
      <p>One way around this is to avoid having our face recognized as <em>a face </em> in the first place. </p>
    </div>
    <div class="small-12 medium-7 large-7 columns">
      <img src="./assets/cv-dazzle-screenshot.jpg" style="padding-top:15px">
      <p style="color:#999;"><em>Examples of hair and makeup styles that thwart facial detection, from CVDazzle.com</em></p>
    </div>
  </div>
  <div class="row centered grey">
    <div class="small-12 medium-4 large-4 columns">
      <img src="./assets/1.png" class="number-icon"/>
      <p class="description"><em>experiment with facial detection in real time</em></p>
      <p>Detect and dazzle your face<br/><em>Experiment with CV Dazzle methods<br/> that circumvent facial detection</em></p>
      <a href="#go-to-webcam" class="button">use webcam</a>
    </div> 
    <div class="small-12 medium-4 large-4 columns">
      <img src="./assets/2.png" class="number-icon"/>
      <br/>
      <br/>
      <p class="description"><em>check for faces in photos</em></p>
      <p>After you experiment with digital camouflage, <br/><em>Check to see if you've successfully thwarted facial detection</em></p>
      <a href="#go-to-static-image" class="button">upload a photo</a>
    </div> 
    <div class="small-12 medium-4 large-4 columns">
      <img src="./assets/3.png" class="number-icon"/>
      <p class="description"><em>learn more</em></p>
      <p style="padding:0">Learn more about surveillance, facial recognition and facial detection<br/><em>Including more about this site</em></p>
      <a herf="#go-to-more" class="button">learn more</a>
    </div>
  </div>
</section>



<section id="go-to-webcam">
  <div class="row">
    <h2><em>use facial detection with your webcam</em></h2>
    <div class="small-12 medium-5 large-5 columns">
      <button id="start-webcam">turn webcam on</button>
      <div class="demo-frame" id="demo-frame">
        <div class="demo-container">
            <video id="video" width="400" height="300" preload autoplay loop muted></video>
            <canvas id="canvas" width="400" height="300"></canvas>
        </div>
        <div id="sandbox">
          <canvas id="droppableCanvas" ondrop="drop(event)" ondragover="allowDrop(event)" width="400" height="300" style="border: 1px solid gray"></canvas>
          <button id="capture"><img src="./assets/camera.png" width="25px" title="Click to take this picture"></button>
          <button><img src="./assets/edit.png" width="22px" title="Clear the canvas"></button>
          <button><img src="./assets/download.png" width="18px" title="Save to desktop"></button>
        </div>
        
      </div>
      <div id="overlays">
        <img id="img1" draggable="true" ondragstart="drag(event)" src='./assets/overlay-1.png'/>
        <img id="img2" draggable="true" ondragstart="drag(event)" src='./assets/overlay-1b.png'/>
        <img id="img3" draggable="true" ondragstart="drag(event)" src='./assets/overlay-2.png'/>
        <img id="img4" draggable="true" ondragstart="drag(event)" src='./assets/overlay-3.png'/>
      </div>
    </div> 
    <div class="small-12 medium-7 large-7 columns">
      <img src="./assets/cv-dazzle-screenshot-2.jpg" style="padding-top:15px">
      <img src="./assets/cv-dazzle-style-tips.jpg"/>
    </div> 
  </div>
</section>





<section id="go-to-static-image">
  <div class="row">
    <h2><em>use facial detection on a photo</em></h2>
    <div class="small-12 medium-5 large-5 columns">
      <form id="form1" runat="server">
        <input type='file' id="imgInp"/>
      </form>
      <div class="static-image-frame">
        <img id="blah" crossOrigin="Anonymous" src="#" width="220px" />
      </div>
      <button id="find-face-button">Detect face</button>
      <!-- <button id="find-eye-mouth-button">Detect eyes and mouth</button> -->
    </div>
    <div class="small-12 medium-7 large-7 columns">
      <p id="status-face" class="status status-face"><em>Faces detected</em></p>
      <p id="status-not-face" class="status status-not-face"><em>No faces detected</em></p>
    </div> 
  </div>

</section>

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
</body>
</html>
